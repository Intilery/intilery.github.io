"use strict";(self.webpackChunkintilery=self.webpackChunkintilery||[]).push([[4644],{4036:(e,r,t)=>{t.r(r),t.d(r,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>n,toc:()=>d});const n=JSON.parse('{"id":"schema/page","title":"Page Schema","description":"The page call lets you record whenever a user sees a page of your website, along with any optional properties about the page. Calling page or screen the Website Tag or HTTP API is the first step to integrating and using Intilery.","source":"@site/docs/schema/page.md","sourceDirName":"schema","slug":"/schema/page","permalink":"/docs/schema/page","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"page","title":"Page Schema","sidebar_label":"Page"},"sidebar":"schema","previous":{"title":"Track","permalink":"/docs/schema/track"},"next":{"title":"Screen","permalink":"/docs/schema/screen"}}');var s=t(4848),i=t(8453);const o={id:"page",title:"Page Schema",sidebar_label:"Page"},a=void 0,l={},d=[{value:"Example",id:"example",level:2},{value:"Identities",id:"identities",level:2},{value:"Properties",id:"properties",level:2}];function c(e){const r={a:"a",code:"code",em:"em",h2:"h2",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(r.p,{children:["The ",(0,s.jsx)(r.code,{children:"page"})," call lets you record whenever a user sees a page of your website, along with any optional properties about the page. Calling ",(0,s.jsx)(r.code,{children:"page"})," or ",(0,s.jsx)(r.a,{href:"./screen/",children:(0,s.jsx)(r.code,{children:"screen"})})," the ",(0,s.jsx)(r.a,{href:"/docs/tag/tag1",children:"Website Tag"})," or ",(0,s.jsx)(r.a,{href:"/docs/apis/api",children:"HTTP API"})," is the first step to integrating and using Intilery."]}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsxs)(r.strong,{children:["Note: In ",(0,s.jsx)(r.code,{children:"analytics.js"})," a ",(0,s.jsx)(r.code,{children:"page"})," call is included in the snippet by default"]})," just after ",(0,s.jsx)(r.code,{children:"analytics.load"}),". We do that because you ",(0,s.jsx)(r.strong,{children:"must"})," call this method at least once per page load. However, you can choose to add an optional ",(0,s.jsx)(r.code,{children:"name"})," or ",(0,s.jsx)(r.code,{children:"properties"})," to the default call, or call it multiple times if you have a single-page application."]}),"\n",(0,s.jsxs)(r.p,{children:["Here\u2019s the payload of a typical ",(0,s.jsx)(r.code,{children:"page"})," call with most ",(0,s.jsx)(r.a,{href:"./common/",children:"common fields"})," removed:"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-json",children:'{\n  "type": "page",\n  "name": "Home",\n  "properties": {\n    "title": "Welcome | Initech",\n    "url": "http://www.example.com"\n  }\n}\n'})}),"\n",(0,s.jsx)(r.p,{children:"And here\u2019s the corresponding Javascript event that would generate the above payload. If you\u2019re using Intilery's Javascript library, the page name and URL are automatically gathered and passed as properties into the event payload:"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-java",children:'analytics.page("Home");\n'})}),"\n",(0,s.jsxs)(r.p,{children:["Beyond the common fields, the ",(0,s.jsx)(r.code,{children:"page"})," call takes the following fields:"]}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Field"}),(0,s.jsx)(r.th,{}),(0,s.jsx)(r.th,{children:"Type"}),(0,s.jsx)(r.th,{children:"Description"})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"name"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.em,{children:"optional"})}),(0,s.jsx)(r.td,{children:"String"}),(0,s.jsx)(r.td,{children:"Name of the page For example, most sites have a \u201cSignup\u201d page that can be useful to tag, so you can see users as they move through your funnel."})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"properties"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.em,{children:"optional"})}),(0,s.jsx)(r.td,{children:"Object"}),(0,s.jsxs)(r.td,{children:["Free-form dictionary of properties of the page, like ",(0,s.jsx)(r.code,{children:"url"})," and ",(0,s.jsx)(r.code,{children:"referrer"})," See the ",(0,s.jsx)(r.a,{href:"#properties",children:"Properties field docs"})," for a list of reserved property names."]})]})]})]}),"\n",(0,s.jsx)(r.h2,{id:"example",children:"Example"}),"\n",(0,s.jsxs)(r.p,{children:["Here\u2019s a complete example of a ",(0,s.jsx)(r.code,{children:"page"})," call:"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-json",children:'{\n  "anonymousId": "507f191e810c19729de860ea",\n  "channel": "browser",\n  "context": {\n    "ip": "8.8.8.8",\n    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_9_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/40.0.2214.115 Safari/537.36"\n  },\n  "integrations": {\n    "All": true,\n    "Mixpanel": false,\n    "Salesforce": false\n  },\n  "messageId": "022bb90c-bbac-11e4-8dfc-aa07a5b093db",\n  "name": "Home",\n  "properties": {\n    "title": "Welcome | Initech",\n    "url": "http://www.example.com"\n  },\n  "receivedAt": "2015-02-23T22:28:55.387Z",\n  "sentAt": "2015-02-23T22:28:55.111Z",\n  "timestamp": "2015-02-23T22:28:55.111Z",\n  "type": "page",\n  "userId": "97980cfea0067",\n  "version": "1.1"\n}\n'})}),"\n",(0,s.jsx)(r.h2,{id:"identities",children:"Identities"}),"\n",(0,s.jsxs)(r.p,{children:["The User ID is a unique identifier for the user performing the actions. Check out the ",(0,s.jsx)(r.a,{href:"./identify#user-id",children:"User ID docs"})," for more detail."]}),"\n",(0,s.jsxs)(r.p,{children:["The Anonymous ID can be any pseudo-unique identifier, for cases where you don\u2019t know who the user is, but you still want to tie them to an event. Check out the ",(0,s.jsx)(r.a,{href:"./identify#anonymous-id",children:"Anonymous ID docs"})," for more detail."]}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Note: In our browser and mobile libraries a User ID is automatically added"})," from the state stored by a previous ",(0,s.jsx)(r.a,{href:"./identify",children:(0,s.jsx)(r.code,{children:"identify"})})," call, so you do not need to add it yourself. They will also automatically handle Anonymous ID\u2019s under the covers."]}),"\n",(0,s.jsx)(r.h2,{id:"properties",children:"Properties"}),"\n",(0,s.jsx)(r.p,{children:"Properties are extra pieces of information that describe the page. They can be anything you want."}),"\n",(0,s.jsxs)(r.p,{children:["We\u2019ve reserved some properties that have semantic meanings, and we handle them in special ways. For example, we always expect ",(0,s.jsx)(r.code,{children:"path"})," to be the URL path of a page, and ",(0,s.jsx)(r.code,{children:"referrer"})," to be the URL of the previous page."]}),"\n",(0,s.jsxs)(r.p,{children:["You should ",(0,s.jsx)(r.strong,{children:"only use reserved properties for their intended meaning"}),"."]}),"\n",(0,s.jsx)(r.p,{children:"Reserved properties we have standardized:"}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:(0,s.jsx)(r.strong,{children:"Property"})}),(0,s.jsx)(r.th,{children:(0,s.jsx)(r.strong,{children:"Type"})}),(0,s.jsx)(r.th,{children:(0,s.jsx)(r.strong,{children:"Description"})})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"name"})}),(0,s.jsx)(r.td,{children:"String"}),(0,s.jsx)(r.td,{children:"Name of the page. This is reserved for future use."})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"path"})}),(0,s.jsx)(r.td,{children:"String"}),(0,s.jsxs)(r.td,{children:["Path portion of the URL of the page, which defaults to ",(0,s.jsx)(r.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/Location",children:(0,s.jsx)(r.code,{children:"location.pathname"})})," from the DOM API."]})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"referrer"})}),(0,s.jsx)(r.td,{children:"String"}),(0,s.jsxs)(r.td,{children:["Full URL of the previous page. Equivalent to ",(0,s.jsx)(r.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/Document/referrer",children:(0,s.jsx)(r.code,{children:"document.referrer"})})," from the DOM API."]})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"search"})}),(0,s.jsx)(r.td,{children:"String"}),(0,s.jsxs)(r.td,{children:["Query string portion of the URL of the page. Equivalent to ",(0,s.jsx)(r.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/Location",children:(0,s.jsx)(r.code,{children:"location.search"})})," from the DOM API."]})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"title"})}),(0,s.jsx)(r.td,{children:"String"}),(0,s.jsxs)(r.td,{children:["Title of the page. Equivalent to ",(0,s.jsx)(r.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/Document/title",children:(0,s.jsx)(r.code,{children:"document.title"})})," from the DOM API."]})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"url"})}),(0,s.jsx)(r.td,{children:"String"}),(0,s.jsxs)(r.td,{children:["Full URL of the page. First we look for the canonical url. If the canonical url is not provided, we use ",(0,s.jsx)(r.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/Location",children:(0,s.jsx)(r.code,{children:"location.href"})})," from the DOM API."]})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"keywords"})}),(0,s.jsx)(r.td,{children:"Array[String]"}),(0,s.jsxs)(r.td,{children:["A list/array of keywords describing the content of the page. The keywords would most likely be the same as, or similar to, the keywords you would find in an html ",(0,s.jsx)(r.a,{href:"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta#Attributes",children:"meta"})," tag for SEO purposes. This property is mainly used by content publishers that rely heavily on pageview tracking. This is not automatically collected."]})]})]})]}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Note:"})," In ",(0,s.jsx)(r.a,{href:"/docs/tag/tag1",children:"analytics.js"})," we automatically send the following properties: ",(0,s.jsx)(r.code,{children:"title"}),", ",(0,s.jsx)(r.code,{children:"path"}),", ",(0,s.jsx)(r.code,{children:"url"}),", ",(0,s.jsx)(r.code,{children:"referrer"}),", and ",(0,s.jsx)(r.code,{children:"search"}),"."]})]})}function h(e={}){const{wrapper:r}={...(0,i.R)(),...e.components};return r?(0,s.jsx)(r,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},8453:(e,r,t)=>{t.d(r,{R:()=>o,x:()=>a});var n=t(6540);const s={},i=n.createContext(s);function o(e){const r=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function a(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),n.createElement(i.Provider,{value:r},e.children)}}}]);