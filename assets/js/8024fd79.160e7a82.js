(self.webpackChunkintilery=self.webpackChunkintilery||[]).push([[4913],{3905:function(e,t,n){"use strict";n.d(t,{Zo:function(){return d},kt:function(){return m}});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},d=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},c=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,d=o(e,["components","mdxType","originalType","parentName"]),c=p(n),m=r,k=c["".concat(s,".").concat(m)]||c[m]||u[m]||i;return n?a.createElement(k,l(l({ref:t},d),{},{components:n})):a.createElement(k,l({ref:t},d))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,l=new Array(i);l[0]=c;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o.mdxType="string"==typeof e?e:r,l[1]=o;for(var p=2;p<i;p++)l[p]=n[p];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}c.displayName="MDXCreateElement"},2437:function(e,t,n){"use strict";n.r(t),n.d(t,{frontMatter:function(){return l},contentTitle:function(){return o},metadata:function(){return s},toc:function(){return p},default:function(){return u}});var a=n(2122),r=n(9756),i=(n(7294),n(3905)),l={id:"profiles",title:"Profiles API",sidebar_label:"Profiles"},o=void 0,s={unversionedId:"apis/profiles",id:"apis/profiles",isDocsHomePage:!1,title:"Profiles API",description:"The Intilery Profile API provides a single API to read user-level customer data.",source:"@site/docs/apis/profiles.md",sourceDirName:"apis",slug:"/apis/profiles",permalink:"/docs/apis/profiles",version:"current",frontMatter:{id:"profiles",title:"Profiles API",sidebar_label:"Profiles"},sidebar:"apis",previous:{title:"Events",permalink:"/docs/apis/events"}},p=[{value:"Product Highlights",id:"product-highlights",children:[]},{value:"Quickstart",id:"quickstart",children:[{value:"Set up Access",id:"set-up-access",children:[]},{value:"Find a user\u2019s external id",id:"find-a-users-external-id",children:[]},{value:"Query the user\u2019s event history",id:"query-the-users-event-history",children:[]},{value:"Explore more of the API",id:"explore-more-of-the-api",children:[]}]},{value:"API Reference",id:"api-reference",children:[{value:"Endpoint",id:"endpoint",children:[]},{value:"Headers",id:"headers",children:[]},{value:"Example Request",id:"example-request",children:[]},{value:"Limits",id:"limits",children:[]},{value:"Errors",id:"errors",children:[]},{value:"Pagination",id:"pagination",children:[]},{value:"Request Arguments",id:"request-arguments",children:[]},{value:"Request IDs",id:"request-ids",children:[]},{value:"Routes",id:"routes",children:[]},{value:"Get a Profile\u2019s Traits",id:"get-a-profiles-traits",children:[]},{value:"Get a Customer&#39;s Events",id:"get-a-customers-events",children:[]},{value:"Pagination",id:"pagination-1",children:[]},{value:"Get a Customer&#39;s Metadata",id:"get-a-customers-metadata",children:[]},{value:"Listing all Customer Profiles",id:"listing-all-customer-profiles",children:[]}]},{value:"Personalization",id:"personalization",children:[{value:"Recommended Implementation",id:"recommended-implementation",children:[]},{value:"Example Workflow",id:"example-workflow",children:[]}]}],d={toc:p};function u(e){var t=e.components,l=(0,r.Z)(e,["components"]);return(0,i.kt)("wrapper",(0,a.Z)({},d,l,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"The Intilery Profile API provides a single API to read user-level customer data.\nIntilery now allows you to query the entire user object programmatically,\nincluding your ",(0,i.kt)("inlineCode",{parentName:"p"},"userId"),", customer ",(0,i.kt)("inlineCode",{parentName:"p"},"traits"),", and ",(0,i.kt)("inlineCode",{parentName:"p"},"events")," that make up a user\u2019s\njourney through your product."),(0,i.kt)("p",null,"You can use this API to\u2026"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Build an in-app recommendation engine")," to show users or accounts the\nlast 5 products they viewed but didn\u2019t purchase"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Train user-level machine learning prediction models")," to determine a\nusers next purchase or likelihood to churn"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Empower your sales and support associates with the complete\ncustomer context")," by embedding the user profile in third-party tools like\nZendesk or Desk.com"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Qualify leads faster")," by embedding the user event timeline in Pipedrive")),(0,i.kt)("p",null,"This document has four parts\u2026"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{parentName:"li",href:"#product-highlights"},(0,i.kt)("strong",{parentName:"a"},"Product Highlights"))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{parentName:"li",href:"#quickstart"},(0,i.kt)("strong",{parentName:"a"},"Quickstart")),": Walks you through how to get started\nquerying your user profile in <1 min"),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{parentName:"li",href:"#api-reference"},(0,i.kt)("strong",{parentName:"a"},"API Reference")),": Retrieve a list of users sorted by\nrecent activity or find a particular user"),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{parentName:"li",href:"#recommended-implementation"},(0,i.kt)("strong",{parentName:"a"},"Personalization")),": Example\npersonalization solution built on Personas using server-side personalization")),(0,i.kt)("h2",{id:"product-highlights"},"Product Highlights"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"Realtime Access")," - fetch your entire user profile"),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"Realtime Data")," \u2014 query streaming data on the user profile that just happened"),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"One Identity")," \u2014 query an end user\u2019s interactions across web, mobile,\nserver, and third party touch-points"),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"Rich Data")," \u2014 query any amount of custom events or user traits"),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"Query On Any ID")," \u2014 the API supports query by: email, userId or intileryId")),(0,i.kt)("h2",{id:"quickstart"},"Quickstart"),(0,i.kt)("h3",{id:"set-up-access"},"Set up Access"),(0,i.kt)("p",null,"To access the profile API, you will need your clientID, accountID and brandID,\nalong with the authentication token, these are provided by your account\nmanager. Generate your API Key from the API Keys menu available if you have\nthe development policy as part of your role."),(0,i.kt)("h3",{id:"find-a-users-external-id"},"Find a user\u2019s external id"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Login and head over to Customers"),(0,i.kt)("li",{parentName:"ol"},"And press on any interesting customer in the list."),(0,i.kt)("li",{parentName:"ol"},"Copy their ",(0,i.kt)("strong",{parentName:"li"},"External Id"))),(0,i.kt)("p",null,"Note: a userId is passed in through the API and is stored as an External Id.\nThis is your unique id for your customer."),(0,i.kt)("p",null,"In the example below the external ID is ",(0,i.kt)("inlineCode",{parentName:"p"},"qrc-117322"),". "),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"externalID",src:n(8507).Z})),(0,i.kt)("h3",{id:"query-the-users-event-history"},"Query the user\u2019s event history"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Download and open ",(0,i.kt)("a",{parentName:"li",href:"https://www.getpostman.com/"},"Postman"),", a nice app for exploring HTTP APIs "),(0,i.kt)("li",{parentName:"ol"},"Create your Postman GET request to query the user\u2019s event\u2019s history")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"The URL is: ",(0,i.kt)("inlineCode",{parentName:"li"},"https://tracking.intilery.com/track/{clientId}/{accountId}/{BRANDID}/v1/profiles/{idType}:{id}/events")),(0,i.kt)("li",{parentName:"ul"},"Replace ",(0,i.kt)("inlineCode",{parentName:"li"},"clientID, accountID and BRANDID")," with your own values along with the id of your customer (qrc-117322 in this case)"),(0,i.kt)("li",{parentName:"ul"},"Set the headers for ",(0,i.kt)("inlineCode",{parentName:"li"},"content-type")," to be ",(0,i.kt)("inlineCode",{parentName:"li"},"application/json")," and ",(0,i.kt)("inlineCode",{parentName:"li"},"auth-token")," to be your generated API Key"),(0,i.kt)("li",{parentName:"ul"},"Replace ",(0,i.kt)("inlineCode",{parentName:"li"},"{idType}:{external_id}")," with your external id type (userId) and external id pair from the customer details page")),(0,i.kt)("ol",{start:3},(0,i.kt)("li",{parentName:"ol"},"Press the Send button in Postman.")),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"postman",src:n(4560).Z})),(0,i.kt)("h3",{id:"explore-more-of-the-api"},"Explore more of the API"),(0,i.kt)("h4",{id:"search-by-any-id"},"Search by Any ID"),(0,i.kt)("p",null,"You can query directly by a customer's email, userId (External Id) or Intilery generated ID (id):"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"User ID (External ID)")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-http",metastring:"request",request:!0},"GET https://tracking.intilery.com/track/{clientId}/{accountId}/{BRANDID}/v1/profiles/userId:qrc-117322/events\n")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Email")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-http",metastring:"request",request:!0},"GET https://tracking.intilery.com/track/{clientId}/{accountId}/{BRANDID}/v1/profiles/email:joe.bloggs@intilery.com/events\n")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Intilery ID")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-http",metastring:"request",request:!0},"GET https://tracking.intilery.com/track/{clientId}/{accountId}/{BRANDID}/v1/profiles/id:725722e8-83a3-45fc-a212-7ee05e97e9dc/events\n")),(0,i.kt)("h4",{id:"traits"},"Traits"),(0,i.kt)("p",null,"You can query a user\u2019s traits (first_name, last_name, \u2026):"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-http"},"https://tracking.intilery.com/track/{clientId}/{accountId}/{BRANDID}/v1/profiles/userId:1234-erty/traits\n")),(0,i.kt)("p",null,"All traits, both standard and computed traits are included"),(0,i.kt)("h4",{id:"metadata"},"Metadata"),(0,i.kt)("p",null,"You can query all of a user\u2019s metadata (created_at, updated_at, \u2026):"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-http"},"https://tracking.intilery.com/track/{clientId}/{accountId}/{BRANDID}/v1/profiles/userId:1234-erty/meta\n")),(0,i.kt)("h2",{id:"api-reference"},"API Reference"),(0,i.kt)("h3",{id:"endpoint"},"Endpoint"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"https://tracking.intilery.com/track/{clientId}/{accountId}/{BRANDID}/v1/profiles/{idType}:{id}/{endpoint}")),(0,i.kt)("h3",{id:"headers"},"Headers"),(0,i.kt)("h4",{id:"content-type"},"Content-Type"),(0,i.kt)("p",null,"You must provide a ",(0,i.kt)("inlineCode",{parentName:"p"},"content-type")," header of ",(0,i.kt)("inlineCode",{parentName:"p"},"application/json")),(0,i.kt)("h4",{id:"auth-token"},"Auth-Token"),(0,i.kt)("p",null,"Authentication via a shared secret API Key must be passed in a header"),(0,i.kt)("h3",{id:"example-request"},"Example Request"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'curl "https://tracking.intilery.com/track/{clientId}/{accountId}/{BRANDID}/v1/profiles/{idType}:{id}/{endpoint}" -i -X GET \\\n   -H "content-type: application/json" \\\n   -H "auth-token: 1234abcd"\n')),(0,i.kt)("h3",{id:"limits"},"Limits"),(0,i.kt)("p",null,"The API is set to 100 requests per second with a burst of 500,\nlimit and burst explained ",(0,i.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Token_bucket"},"here")),(0,i.kt)("p",null,"If limits are exceeded you will receive a 429 Error (limit exceeded) response."),(0,i.kt)("p",null,"The maximum size of any request is 1mb, exceeding this will return a 413 Error."),(0,i.kt)("p",null,"The event endpoint will return a maximum of 100 events per request."),(0,i.kt)("p",null,"The Intilery API is organized around ",(0,i.kt)("a",{parentName:"p",href:"http://en.wikipedia.org/wiki/Representational_State_Transfer"},"REST"),". Our API has predictable, resource-oriented URLs, and uses HTTP response codes to indicate API errors. We use built-in HTTP features, like HTTP authentication and HTTP verbs, which are understood by off-the-shelf HTTP clients. ",(0,i.kt)("a",{parentName:"p",href:"http://www.json.org/"},"JSON")," is returned by all API responses, including errors."),(0,i.kt)("h3",{id:"errors"},"Errors"),(0,i.kt)("p",null,"Intilery uses conventional HTTP response codes to indicate the success or failure of an API request. In general, codes in the ",(0,i.kt)("inlineCode",{parentName:"p"},"2xx")," range indicate success, codes in the ",(0,i.kt)("inlineCode",{parentName:"p"},"4xx")," range indicate an error that failed given the information provided (e.g., a required parameter was omitted, etc.), and codes in the ",(0,i.kt)("inlineCode",{parentName:"p"},"5xx")," Intilery's servers."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"HTTP Status")),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"th"},"HTTP Status")),(0,i.kt)("th",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"th"},"Description")))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"200 - OK")),(0,i.kt)("td",{parentName:"tr",align:null},"Everything worked as expected.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"400 - Bad Request")),(0,i.kt)("td",{parentName:"tr",align:null},"The request was unacceptable, often due to missing a required parameter.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"401 - Unauthorized")),(0,i.kt)("td",{parentName:"tr",align:null},"No valid Access Secret provided.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"404 - Not Found")),(0,i.kt)("td",{parentName:"tr",align:null},"The requested resource doesn\u2019t exist.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"429 - Too Many Requests")),(0,i.kt)("td",{parentName:"tr",align:null},"Too many requests hit the API too quickly. We recommend an exponential backoff of your requests.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"500, 502, 503, 504 - Server Errors")),(0,i.kt)("td",{parentName:"tr",align:null},"Something went wrong on Intilery's side.")))),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Error Body")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "error": {\n    "code": "validation_error",\n    "message": "ProfileID must be in format of id_type:id"\n  }\n}\n')),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"th"},"Code")),(0,i.kt)("th",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"th"},"Message")))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"authentication_error")),(0,i.kt)("td",{parentName:"tr",align:null},"Failure to properly authenticate yourself in the request.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"invalid_request_error")),(0,i.kt)("td",{parentName:"tr",align:null},"Invalid request errors arise when your request has invalid parameters.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"rate_limit_error")),(0,i.kt)("td",{parentName:"tr",align:null},"Too many requests hit the API too quickly.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"validation_error")),(0,i.kt)("td",{parentName:"tr",align:null},"Errors triggered when failing to validate fields (e.g., when a collection name has invalid characters).")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"not_found")),(0,i.kt)("td",{parentName:"tr",align:null},"The customer could not be found")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"internal_server_error")),(0,i.kt)("td",{parentName:"tr",align:null},"Something went wrong internal to Intilery")))),(0,i.kt)("h3",{id:"pagination"},"Pagination"),(0,i.kt)("p",null,"All top-level API resources have support for bulk fetches using \u201clist\u201d API methods. For instance you can list profiles, a profile\u2019s events, a profile\u2019s traits, and a profile\u2019s external_ids. These list API methods share a common structure, taking at least two parameters: ",(0,i.kt)("inlineCode",{parentName:"p"},"from")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"size"),"."),(0,i.kt)("h3",{id:"request-arguments"},"Request Arguments"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"th"},"Argument")),(0,i.kt)("th",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"th"},"Description")))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"from")),(0,i.kt)("td",{parentName:"tr",align:null},"An integer representing the page of results to return, default is 0.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"size")),(0,i.kt)("td",{parentName:"tr",align:null},"A limit on the number of objects to be returned, between 1 and 100.")))),(0,i.kt)("h3",{id:"request-ids"},"Request IDs"),(0,i.kt)("p",null,"Each API request has an associated request identifier. You can find this value in the response headers, under ",(0,i.kt)("inlineCode",{parentName:"p"},"x-amzn-RequestId"),". ",(0,i.kt)("strong",{parentName:"p"},"If you need to contact us about a specific request, providing the request identifier will ensure the fastest possible resolution.")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"curl -i https://tracking.intilery.com/track/{clientId}/{accountId}/{BRANDID}/v1/profiles/{idType}:{id}/{endpoint}\nHTTP/1.1 200 OK\nDate: Mon, 01 Jul 2013 17:27:06 GMT\nStatus: 200 OK\nx-amzn-RequestId: 1111-2222-3333-4444\n")),(0,i.kt)("h3",{id:"routes"},"Routes"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"th"},"Name")),(0,i.kt)("th",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"th"},"Route")," ",(0,i.kt)("a",{parentName:"th",href:"https://tracking.intilery.com/track/%7BclientId%7D/%7BaccountId%7D/%7BBRANDID%7D/v1/profiles/"},"https://tracking.intilery.com/track/{clientId}/{accountId}/{BRANDID}/v1/profiles/")," \u2026"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Get a Profile\u2019s Traits"),(0,i.kt)("td",{parentName:"tr",align:null},"/email:",(0,i.kt)("a",{parentName:"td",href:"mailto:joe.bloggs@intilery.com"},"joe.bloggs@intilery.com"),"/traits")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Get a Profile\u2019s Metadata"),(0,i.kt)("td",{parentName:"tr",align:null},"/email:",(0,i.kt)("a",{parentName:"td",href:"mailto:joe.bloggs@intilery.com"},"joe.bloggs@intilery.com"),"/metadata")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Get a Profile\u2019s Events"),(0,i.kt)("td",{parentName:"tr",align:null},"/email:",(0,i.kt)("a",{parentName:"td",href:"mailto:joe.bloggs@intilery.com"},"joe.bloggs@intilery.com"),"/events")))),(0,i.kt)("h3",{id:"get-a-profiles-traits"},"Get a Profile\u2019s Traits"),(0,i.kt)("p",null,"Get a single customer's traits using an ",(0,i.kt)("inlineCode",{parentName:"p"},"external_id"),"."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-http"},"GET /track/v1/profiles/userId:123-rty/traits\n")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Examples")," Here\u2019s what it looks to search for a profile\u2019s traits by an external id, like by an ",(0,i.kt)("inlineCode",{parentName:"p"},"email"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-http"},"GET /track/v1/profiles/email:joe.bloggs@intilery.com/traits\n")),(0,i.kt)("p",null,"Or a id:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-http"},"GET /v1/spaces/lg8283283/collections/users/profiles/id:1234-5678-asdf-ghjk/traits\n")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Request")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'   curl "https://tracking.intilery.com/track/{clientId}/{accountId}/{BRANDID}/v1/profiles/{idType}:{id}/traits" -i -X GET \\ -H "content-type: application/json" \\ -H "auth-token: 1234abcd"\n')),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"404 Not Found")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "error": {\n    "code": "not_found",\n    "message": "Custmer not found."\n  }\n}\n')),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"200 OK")," (single response)"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "lastName": "Bloggs",\n    "website": "www.intilery.com",\n    "externalId": "joe.bloggs@intilery.com",\n    "organisation": "Intilery",\n    "industry": "Other",\n    "firstName": "Joe",\n    "phone": "+44111222333444",\n    "id": "4c90b9cf-5e4d-4689-ba57-b0f3e7c813fe",\n    "computed": {\n      "number_email_delivered_all_time": 9,\n    }\n    "marketingPreferences": {\n        "channels": [\n            {\n                "subscribed": true,\n                "channel": "email"\n            },\n            {\n                "subscribed": true,\n                "channel": "sms"\n            },\n            {\n                "subscribed": false,\n                "channel": "whatsapp"\n            },\n            {\n                "subscribed": false,\n                "channel": "facebook"\n            },\n            {\n                "subscribed": false,\n                "channel": "push"\n            }\n        ]\n    },\n    "email": "joe.bloggs@intilery.com"\n}\n')),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"200 OK")," (multiple response)"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "data" : [\n    {\n        "lastName": "Bloggs",\n        "website": "www.intilery.com",\n        "externalId": "joe.bloggs@intilery.com",\n        "organisation": "Intilery",\n        "industry": "Other",\n        "firstName": "Joe",\n        "phone": "+44111222333444",\n        "id": "4c90b9cf-5e4d-4689-ba57-b0f3e7c813fe",\n        "computed": {\n          "number_email_delivered_all_time": 9,\n        }\n        "marketingPreferences": {\n            "channels": [\n                {\n                    "subscribed": true,\n                    "channel": "email"\n                },\n                {\n                    "subscribed": true,\n                    "channel": "sms"\n                },\n                {\n                    "subscribed": false,\n                    "channel": "whatsapp"\n                },\n                {\n                    "subscribed": false,\n                    "channel": "facebook"\n                },\n                {\n                    "subscribed": false,\n                    "channel": "push"\n                }\n            ]\n        },\n        "email": "joe.bloggs@intilery.com"\n        }\n        ]\n    }\n}\n')),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("em",{parentName:"strong"},"Note")),": if you request a customer using userId or Id, the response will be a single customer's traits. For searching by email, as multiple customer records can have the same email (unless you use their email as their userId) an array of results in the data field are returned"),(0,i.kt)("h3",{id:"get-a-customers-events"},"Get a Customer's Events"),(0,i.kt)("p",null,"Get a single profile\u2019s events within a collection using an ",(0,i.kt)("inlineCode",{parentName:"p"},"external_id"),"."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-http"},"    GET /track/v1/profiles/userId:123-rty/events\n")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Request")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'   curl "https://tracking.intilery.com/track/{clientId}/{accountId}/{BRANDID}/v1/profiles/{idType}:{id}/events" -i -X GET \\ -H "content-type: application/json" \\ -H "auth-token: 1234abcd"\n')),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"404 Not Found")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "error": {\n    "code": "not_found",\n    "message": "Profile was not found."\n  }\n}\n')),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"200 OK")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "scrollId": "DnF1ZXJ5VGhlbkZldGNoBQAAAAAAMzh3FmNJLUxtbGYyVFV5WVU1Uk9TcnM5NVEAAAAAADM4ehZjSS1MbWxmMlRVeVlVNVJPU3JzOTVRAAAAAAAzOHgWY0ktTG1sZjJUVXlZVTVST1Nyczk1UQAAAAAAMzh7FmNJLUxtbGYyVFV5WVU1Uk9TcnM5NVEAAAAAADM4eRZjSS1MbWxmMlRVeVlVNVJPU3JzOTVR",\n    "data": [\n        {\n            "id": "4c90b9cf-5e4d-4689-ba57-b0f3e7c813fe",\n            "externalId": "joe.bloggs@intilery.com",\n            "email": "joe.bloggs@intilery.com",\n            "eventId": "ec717144-924c-4826-981b-848459c39176",\n            "eventTime": "2020-11-19T13:39:17.380Z",\n            "receivedTime": "2020-11-19T13:39:17.912Z",\n            "eventAction": "email_opened",\n            "clientId": "intilery",\n            "accountId": "marketing",\n            "brandId": "MARKETING",\n            "customerId": "4c90b9cf-5e4d-4689-ba57-b0f3e7c813fe",\n            "userId": "4c90b9cf-5e4d-4689-ba57-b0f3e7c813fe",\n            "source": "SEGMENT_API",\n            "rawData": {\n                "userId": "4c90b9cf-5e4d-4689-ba57-b0f3e7c813fe",\n                "action": "track",\n                "event": "Email Opened",\n                "context": {\n                    "ip": "217.42.6.253",\n                    "user_agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_4) AppleWebKit/605.1.15",\n                    "traits": {\n                        "email": "joe.bloggs@intilery.com"\n                    }\n                },\n                "properties": {\n                    "email_id": "41937e92-b472-46ae-94e3-f29cc05cda5d",\n                    "email_subject": "Thanks for requesting an Intilery trial",\n                    "campaign_id": "TRIAL_WELCOME"\n                },\n                "timestamp": "2020-11-19T13:39:17.380Z",\n                "sendType": "email"\n            }\n        },\n        {\n            "id": "4c90b9cf-5e4d-4689-ba57-b0f3e7c813fe",\n            "externalId": "joe.bloggs@intilery.com",\n            "email": "joe.bloggs@intilery.com",\n            "eventId": "4b7c99d4-0714-41e0-b285-1ef300634984",\n            "clientId": "intilery",\n            "source": "SEGMENT_API",\n            "rawData": {\n                "context": {\n                    "traits": {\n                        "email": "joe.bloggs@intilery.com"\n                    },\n                    "ip": "217.42.6.253",\n                    "user_agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_4) AppleWebKit/605.1.15"\n                },\n                "sendType": "email",\n                "action": "track",\n                "event": "Email Opened",\n                "userId": "4c90b9cf-5e4d-4689-ba57-b0f3e7c813fe",\n                "properties": {\n                    "email_id": "41937e92-b472-46ae-94e3-f29cc05cda5d",\n                    "email_subject": "Thanks for requesting an Intilery trial",\n                    "campaign_id": "TRIAL_WELCOME"\n                },\n                "timestamp": "2020-11-19T13:37:50.929Z"\n            },\n            "eventAction": "email_opened",\n            "userId": "4c90b9cf-5e4d-4689-ba57-b0f3e7c813fe",\n            "accountId": "marketing",\n            "receivedTime": "2020-11-19T13:37:51.407Z",\n            "brandId": "MARKETING",\n            "eventTime": "2020-11-19T13:37:50.929Z",\n            "customerId": "4c90b9cf-5e4d-4689-ba57-b0f3e7c813fe"\n        }\n            ]\n        }\n    }\n')),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("em",{parentName:"strong"},"Note")),": if you request a customer using userId or Id, the response will the events for a single customer. For searching by email, as multiple customer records can have the same email (unless you use their email as their userId) events for all customers with the email specified will be included"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Query Parameters")),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"th"},"Query Parameter")),(0,i.kt)("th",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"th"},"Description")),(0,i.kt)("th",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"th"},"Example")))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"include")),(0,i.kt)("td",{parentName:"tr",align:null},"The event action to include in the query"),(0,i.kt)("td",{parentName:"tr",align:null},"page")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"exclude")),(0,i.kt)("td",{parentName:"tr",align:null},"A comma-separated list of event actions to exclude from the query"),(0,i.kt)("td",{parentName:"tr",align:null},"page,logged_in,registered,identify")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"start")),(0,i.kt)("td",{parentName:"tr",align:null},"Returns all the events that start after ",(0,i.kt)("inlineCode",{parentName:"td"},"start")," (in ISO 8601)."),(0,i.kt)("td",{parentName:"tr",align:null},"2006-01-02")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"end")),(0,i.kt)("td",{parentName:"tr",align:null},"Returns all the events that end before ",(0,i.kt)("inlineCode",{parentName:"td"},"end")," (in ISO 8601)."),(0,i.kt)("td",{parentName:"tr",align:null},"2018-01-02")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"sort")),(0,i.kt)("td",{parentName:"tr",align:null},"Determines whether the result is ",(0,i.kt)("strong",{parentName:"td"},"asc"),"ending or ",(0,i.kt)("strong",{parentName:"td"},"desc"),"ending. Defaults to descending."),(0,i.kt)("td",{parentName:"tr",align:null},"asc")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"from")),(0,i.kt)("td",{parentName:"tr",align:null},"An integer representing the page of results to return, default is 0."),(0,i.kt)("td",{parentName:"tr",align:null},"100")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"size")),(0,i.kt)("td",{parentName:"tr",align:null},"A limit on the number of objects to be returned, between 1 and 100."),(0,i.kt)("td",{parentName:"tr",align:null},"10")))),(0,i.kt)("h3",{id:"pagination-1"},"Pagination"),(0,i.kt)("p",null,"You can use the ",(0,i.kt)("inlineCode",{parentName:"p"},"from")," parameter to page through up to 10,000 results."),(0,i.kt)("p",null,"You can use the ",(0,i.kt)("inlineCode",{parentName:"p"},"start")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"end")," to pass in a datetime to restrict the result set."),(0,i.kt)("h3",{id:"get-a-customers-metadata"},"Get a Customer's Metadata"),(0,i.kt)("p",null,"Get a single profile\u2019s metadata within a collection using an ",(0,i.kt)("inlineCode",{parentName:"p"},"external_id"),"."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-http"},"GET /track/v1/profiles/userId:123-rty/meta\n")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Request")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'   curl "https://tracking.intilery.com/track/{clientId}/{accountId}/{BRANDID}/v1/profiles/{idType}:{id}/meta" -i -X GET \\ -H "content-type: application/json" \\ -H "auth-token: 1234abcd"\n')),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"404 Not Found")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "error": {\n    "code": "not_found",\n    "message": "Profile was not found."\n  }\n}\n')),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"200 OK")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "lastName": "Bloggs",\n    "website": "www.intilery.com",\n    "_subscriptionId": "aW50aWxlcnk6bWFya2V0aW5nOjg3MzA1NWVmLTdmYmYtNDYyNS1iMWNkLTEwYjRlNDc5YjIwZA==",\n    "externalId": "joe.bloggs@intilery.com",\n    "organisation": "Intilery",\n    "industry": "Other",\n    "firstName": "Joe",\n    "createdBy": {\n        "filename": "staff listaug20.csv",\n        "createdTime": "2020-08-24T15:54:15.323Z",\n        "type": "audience-csv"\n    },\n    "phone": "111222333444",\n    "firstEvent": {\n        "email_sent": {\n            "eventId": "b5148168-928f-4f61-9a3d-ff1be6da5820",\n            "receivedTime": "2020-10-20T13:49:43.393Z",\n            "context": {\n                "traits": {\n                    "email": "joe.bloggs@intilery.com"\n                }\n            },\n            "sendType": "email",\n            "eventTime": "2020-10-20T13:49:41.697Z",\n            "action": "track",\n            "event": "Email Sent",\n            "userId": "4c90b9cf-5e4d-4689-ba57-b0f3e7c813fe",\n            "properties": {\n                "email_id": "6adec8ad-3663-4c53-b02d-67d69de6da91",\n                "email_subject": "Everyone loves a freebie",\n                "campaign_id": "FreeTrialEshot"\n            },\n            "timestamp": "2020-10-20T13:49:41.697Z"\n        },\n      ...\n    },\n    "lastEvent": {\n        "email_sent": {\n            "eventId": "b8be0f1f-e1af-41b8-9f8c-17514f3ccad6",\n            "receivedTime": "2020-11-09T10:10:34.653Z",\n            "context": {\n                "traits": {\n                    "email": "joe.bloggs@intilery.com"\n                }\n            },\n            "sendType": "email",\n            "eventTime": "2020-11-09T10:10:33.811Z",\n            "action": "track",\n            "event": "Email Sent",\n            "userId": "4c90b9cf-5e4d-4689-ba57-b0f3e7c813fe",\n            "properties": {\n                "email_id": "d67f6825-c560-4186-a2b6-516557e7151e",\n                "email_subject": "Everything you need, in one place",\n                "campaign_id": "Nov2"\n            },\n            "timestamp": "2020-11-09T10:10:33.811Z"\n        },\n        "email_opened": {\n            "eventId": "ec717144-924c-4826-981b-848459c39176",\n            "receivedTime": "2020-11-19T13:39:17.912Z",\n            "context": {\n                "ip": "217.42.6.253",\n                "user_agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_4) AppleWebKit/605.1.15 ",\n                "traits": {\n                    "email": "joe.bloggs@intilery.com"\n                }\n            },\n            "sendType": "email",\n            "eventTime": "2020-11-19T13:39:17.380Z",\n            "action": "track",\n            "event": "Email Opened",\n            "userId": "4c90b9cf-5e4d-4689-ba57-b0f3e7c813fe",\n            "properties": {\n                "email_id": "41937e92-b472-46ae-94e3-f29cc05cda5d",\n                "email_subject": "Thanks for requesting an Intilery trial",\n                "campaign_id": "TRIAL_WELCOME"\n            },\n            "timestamp": "2020-11-19T13:39:17.380Z"\n        },\n      ...\n    },\n    "id": "4c90b9cf-5e4d-4689-ba57-b0f3e7c813fe",\n    "marketingPreferences": {\n        "channels": [\n            {\n                "subscribed": true,\n                "channel": "email"\n            },\n            {\n                "subscribed": true,\n                "channel": "sms"\n            },\n            {\n                "subscribed": false,\n                "channel": "whatsapp"\n            },\n            {\n                "subscribed": false,\n                "channel": "facebook"\n            },\n            {\n                "subscribed": false,\n                "channel": "push"\n            }\n        ]\n    },\n    "audiencesStatic": [\n        "audience_board"\n    ],\n    "lastActivityTime": "2020-11-19T13:39:17.380Z",\n    "email": "joe.bloggs@intilery.com"\n}\n')),(0,i.kt)("h3",{id:"listing-all-customer-profiles"},"Listing all Customer Profiles"),(0,i.kt)("p",null,"If you request the endpoint:"),(0,i.kt)("h4",{id:"initial-request"},"Initial Request"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-http",metastring:"request",request:!0},"GET https://tracking.intilery.com/track/{clientId}/{accountId}/{BRANDID}/v1/profiles\n")),(0,i.kt)("p",null,"You will get back the first 100 customers, and a ",(0,i.kt)("inlineCode",{parentName:"p"},"scrollId")," which will allow you to\nmake additional requests to stream through the full results set."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json5"},'{\n  "scrollId":"dsfmLKHJosidjflksjflksjfonawlefnEWOILKsdlfjlsjfpoiwhfekln",\n  "data": [\n    {\n      // customer data\n    },\n    {\n      // customer data\n    }\n  ]\n}\n')),(0,i.kt)("h4",{id:"scroll-request"},"Scroll Request"),(0,i.kt)("p",null,"To scroll through the rest of the results, add the ",(0,i.kt)("inlineCode",{parentName:"p"},"scrollId")," as a query parameter:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-http",metastring:"request",request:!0},"GET https://tracking.intilery.com/track/{clientId}/{accountId}/{BRANDID}/v1/profiles?scrollid=<your-scroll-id>\n")),(0,i.kt)("p",null,"If data is returned, record the scroll Id and make another request until their are\nno more customer profiles."),(0,i.kt)("h2",{id:"personalization"},"Personalization"),(0,i.kt)("h3",{id:"recommended-implementation"},"Recommended Implementation"),(0,i.kt)("p",null,"Intilery provides an API where customers can fetch data about their users given an identifier (e.g email or user id) and an authorized access secret. We recommend you integrate using a server-side personalization pattern."),(0,i.kt)("p",null,(0,i.kt)("img",{parentName:"p",src:"https://www.lucidchart.com/publicSegments/view/25df2e70-a666-4581-8f86-1a000dbf1f49/image.png",alt:"Server-side Personalization"})),(0,i.kt)("p",null,"Since this API has access to all of a customer\u2019s data, we do not support CORS and ask that you do not expose the access secret (e.g. in a client-side app). We advise customers to create personalization service in their infrastructure that other apps, websites or services communicate with to fetch personalizations about their users."),(0,i.kt)("h3",{id:"example-workflow"},"Example Workflow"),(0,i.kt)("p",null,"If you want to display the most relevant blog posts given a reader\u2019s favorite blog category:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Create a computed trait")," ",(0,i.kt)("inlineCode",{parentName:"p"},"favorite_blog_category")," ",(0,i.kt)("strong",{parentName:"p"},"in Intilery UI"))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Create"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-plaintext"},"/api/recommended-posts\n")),(0,i.kt)("p",{parentName:"li"},"in customer-built personalization service"))),(0,i.kt)("p",null,"   ","[Engineer]"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Accept ",(0,i.kt)("inlineCode",{parentName:"li"},"user_id"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"email")," or ",(0,i.kt)("inlineCode",{parentName:"li"},"anonymous_id")," to fetch ",(0,i.kt)("inlineCode",{parentName:"li"},"favorite_blog_category")," using API"),(0,i.kt)("li",{parentName:"ul"},"Return array of most recent posts of that category to render in recommended section")),(0,i.kt)("ol",{start:3},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Add recommended section to the blog"),(0,i.kt)("p",{parentName:"li"},"[Engineer]"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Client-side by making a request to ",(0,i.kt)("inlineCode",{parentName:"li"},"/recommended-posts")," if it accepts CORS (recommended for static blogs, WordPress plugin, or other CMS solutions)"),(0,i.kt)("li",{parentName:"ul"},"Server-side by collecting all the personalizations you want to make on the blog in a single request to increase the total time to load (recommended for custom blog setup)")))),(0,i.kt)("p",null,"Now, users who take a few minutes to read through an article on the blog will find posts recommended using their historical reading pattern including the post they just read."))}u.isMDXComponent=!0},8507:function(e,t,n){"use strict";t.Z=n.p+"assets/images/externalid-0fd2dbdeed77fde7a16bb3ca2f56a319.png"},4560:function(e,t,n){"use strict";t.Z=n.p+"assets/images/postman-39fe400ef89eae58e824570898cf3439.png"}}]);