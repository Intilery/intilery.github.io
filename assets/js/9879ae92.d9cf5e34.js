(self.webpackChunkintilery=self.webpackChunkintilery||[]).push([[8517],{3905:function(e,t,n){"use strict";n.d(t,{Zo:function(){return p},kt:function(){return m}});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var o=a.createContext({}),c=function(e){var t=a.useContext(o),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},p=function(e){var t=c(e.components);return a.createElement(o.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,o=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),d=c(n),m=r,h=d["".concat(o,".").concat(m)]||d[m]||u[m]||i;return n?a.createElement(h,l(l({ref:t},p),{},{components:n})):a.createElement(h,l({ref:t},p))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,l=new Array(i);l[0]=d;var s={};for(var o in t)hasOwnProperty.call(t,o)&&(s[o]=t[o]);s.originalType=e,s.mdxType="string"==typeof e?e:r,l[1]=s;for(var c=2;c<i;c++)l[c]=n[c];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},7417:function(e,t,n){"use strict";n.r(t),n.d(t,{frontMatter:function(){return s},contentTitle:function(){return o},metadata:function(){return c},toc:function(){return p},default:function(){return d}});var a=n(2122),r=n(9756),i=(n(7294),n(3905)),l=["components"],s={id:"events",title:"Events API",sidebar_label:"Events"},o=void 0,c={unversionedId:"apis/events",id:"apis/events",isDocsHomePage:!1,title:"Events API",description:"The Intilery Events API provides a single API to read account-level event data. This API enables you to access in real-time all events that your customers are doing, where the event is sent to the Intilery CDP. By default all events are accessed most recent first (data desc) and can be paged to access all events in a polling mechanism.",source:"@site/docs/apis/events.md",sourceDirName:"apis",slug:"/apis/events",permalink:"/docs/apis/events",version:"current",frontMatter:{id:"events",title:"Events API",sidebar_label:"Events"},sidebar:"apis",previous:{title:"Commands",permalink:"/docs/apis/commands"},next:{title:"Profiles",permalink:"/docs/apis/profiles"}},p=[{value:"Product Highlights",id:"product-highlights",children:[]},{value:"Endpoint",id:"endpoint",children:[{value:"Headers",id:"headers",children:[]}]},{value:"Example Request",id:"example-request",children:[]},{value:"Permissions",id:"permissions",children:[]},{value:"Limits",id:"limits",children:[]},{value:"Optional Request Arguments",id:"optional-request-arguments",children:[{value:"Pagination",id:"pagination",children:[]}]},{value:"Quickstart",id:"quickstart",children:[{value:"Set up Access",id:"set-up-access",children:[]},{value:"Access the event stream",id:"access-the-event-stream",children:[]},{value:"Explore the events returned in date desc order (default)",id:"explore-the-events-returned-in-date-desc-order-default",children:[]}]}],u={toc:p};function d(e){var t=e.components,s=(0,r.Z)(e,l);return(0,i.kt)("wrapper",(0,a.Z)({},u,s,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"The Intilery Events API provides a single API to read account-level event data. This API enables you to access in real-time all events that your customers are doing, where the event is sent to the Intilery CDP. By default all events are accessed most recent first (data desc) and can be paged to access all events in a polling mechanism."),(0,i.kt)("p",null,"The API supports filtering of event types, filtering based on event properties, sorting and unique eventIDs."),(0,i.kt)("p",null,"You can use this API to\u2026"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Access when a user has clicked on an email")," to perform a workflow in an integration tool like zapier (it may make sense to use an Intilery Journey if you do not want to integrate other tools)"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"React to an event raised in a Journey to trigger something in another tool")," to connect an agent in a call centre to a customer"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"New Customers")," access new customer records and send them to another system (identify event)")),(0,i.kt)("h2",{id:"product-highlights"},"Product Highlights"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"Realtime Access")," - fetch your entire customer events"),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"Realtime Data")," - query streaming data on events that just happened"),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"Rich Data")," - receive the complete data associated with events")),(0,i.kt)("h2",{id:"endpoint"},"Endpoint"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-http",metastring:"request",request:!0},"GET https://tracking.intilery.com/track/{clientId}/{accountId}/{BRANDID}/v1/events/\n")),(0,i.kt)("p",null,"You will be given you clientId, accountIds and brandIds."),(0,i.kt)("p",null,"The endpoint expects a GET and returns JSON"),(0,i.kt)("p",null,"Authentication is via a shared secret passed in the auth-token header."),(0,i.kt)("p",null,"The actions are detailed below."),(0,i.kt)("h3",{id:"headers"},"Headers"),(0,i.kt)("h4",{id:"content-type"},"Content-Type"),(0,i.kt)("p",null,"You must provide a content-type header of application/json"),(0,i.kt)("h4",{id:"auth-token"},"Auth-Token"),(0,i.kt)("p",null,"Authentication to handled by a shared secret that must be passed in a header"),(0,i.kt)("h2",{id:"example-request"},"Example Request"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'curl "https://tracking.intilery.com/track/{clientId}/{accountId}/{BRANDID}/v1/events" -i -X GET \\ -H "content-type: application/json" \\ -H "auth-token: 1234abcd"\n')),(0,i.kt)("h2",{id:"permissions"},"Permissions"),(0,i.kt)("p",null,"Your Authentication token will be set with permissions at the Account and Brand level, token\u2019s can be created that have access to all Accounts or specific to a single Account. "),(0,i.kt)("h2",{id:"limits"},"Limits"),(0,i.kt)("p",null,"The API is set to 100 requests per second with a burst of 500, limit and burst explained ",(0,i.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Token_bucket"},"here")),(0,i.kt)("p",null,"If limits are exceeded you will receive a 429 Error (limit exceeded) response."),(0,i.kt)("p",null,"The maximum size of any request is 1mb, exceeding this will return a 413 Error."),(0,i.kt)("h2",{id:"optional-request-arguments"},"Optional Request Arguments"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"th"},"Query Parameter")),(0,i.kt)("th",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"th"},"Description")),(0,i.kt)("th",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"th"},"Example")))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"include")),(0,i.kt)("td",{parentName:"tr",align:null},"The event action to include in the query"),(0,i.kt)("td",{parentName:"tr",align:null},"page")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"exclude")),(0,i.kt)("td",{parentName:"tr",align:null},"A comma-separated list of event actions to exclude from the query"),(0,i.kt)("td",{parentName:"tr",align:null},"page,logged_in,registered,identify")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"start")),(0,i.kt)("td",{parentName:"tr",align:null},"Returns all the events that start after ",(0,i.kt)("inlineCode",{parentName:"td"},"start")," (in ISO 8601)."),(0,i.kt)("td",{parentName:"tr",align:null},"2006-01-02")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"end")),(0,i.kt)("td",{parentName:"tr",align:null},"Returns all the events that end before ",(0,i.kt)("inlineCode",{parentName:"td"},"end")," (in ISO 8601)."),(0,i.kt)("td",{parentName:"tr",align:null},"2018-01-02")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"sort")),(0,i.kt)("td",{parentName:"tr",align:null},"Determines whether the result is ",(0,i.kt)("strong",{parentName:"td"},"asc"),"ending or ",(0,i.kt)("strong",{parentName:"td"},"desc"),"ending. Defaults to descending."),(0,i.kt)("td",{parentName:"tr",align:null},"asc")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"from")),(0,i.kt)("td",{parentName:"tr",align:null},"Defines the number of hits to skip, defaulting to 0. Together with the size parameter, defines a page of results."),(0,i.kt)("td",{parentName:"tr",align:null},"100")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"size")),(0,i.kt)("td",{parentName:"tr",align:null},"A limit on the number of objects to be returned, between 1 and 100."),(0,i.kt)("td",{parentName:"tr",align:null},"10")))),(0,i.kt)("h3",{id:"pagination"},"Pagination"),(0,i.kt)("p",null,"You can use the ",(0,i.kt)("inlineCode",{parentName:"p"},"from")," parameter to page through up to 10,000 results."),(0,i.kt)("p",null,"You can use the ",(0,i.kt)("inlineCode",{parentName:"p"},"start")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"end")," to pass in a datetime to restrict the result set."),(0,i.kt)("h2",{id:"quickstart"},"Quickstart"),(0,i.kt)("h3",{id:"set-up-access"},"Set up Access"),(0,i.kt)("p",null,"To access the events API, you will need you clientID, accountID and brandID, along with the authentication token. Get these from the API Keys section."),(0,i.kt)("p",null,"The events API expects the authentication token to be supplied in the request headers."),(0,i.kt)("h3",{id:"access-the-event-stream"},"Access the event stream"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Download and open ",(0,i.kt)("a",{parentName:"p",href:"https://www.getpostman.com/"},"Postman"),", a nice app for exploring HTTP APIs")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Create your Postman GET request to query the user\u2019s event\u2019s history: i. The URL is: ",(0,i.kt)("a",{parentName:"p",href:"https://tracking.intilery.com/track/%7BclientId%7D/%7BaccountId%7D/%7BBRANDID%7D/v1/events%60"},"https://tracking.intilery.com/track/{clientId}/{accountId}/{BRANDID}/v1/events`")),(0,i.kt)("p",{parentName:"li"},"ii. Replace ",(0,i.kt)("inlineCode",{parentName:"p"},"clientID, accountID and BRANDID")," with your own values"))),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"postman",src:n(8239).Z})),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Press the Send button in Postman.")),(0,i.kt)("h3",{id:"explore-the-events-returned-in-date-desc-order-default"},"Explore the events returned in date desc order (default)"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"postman",src:n(3621).Z})))}d.isMDXComponent=!0},8239:function(e,t,n){"use strict";t.Z=n.p+"assets/images/postman-events-1-469553050b2116c8c9737916c0dfc329.png"},3621:function(e,t,n){"use strict";t.Z=n.p+"assets/images/postman-events-2-051a20f2be622323d43202fa4e57bf63.png"}}]);